"use strict";!function(){angular.module("MainApp",["ngRoute","ngSanitize","ngResource","ngAnimate","mgcrea.ngStrap","ngMessages"]),angular.module("MainApp").config(["$routeProvider","$locationProvider",function(e,t){t.html5Mode(!1).hashPrefix("!"),e.when("/",{templateUrl:"/views/index.html",controller:"mainCtrl"}).when("/customers",{templateUrl:"/views/customers/customers.html",controller:"customersCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){angular.module("MainApp").controller("globalCtrl",["$scope",function(e){e.pageData=[{Name:"Home"},{Name:"Customers"}],e.directiveTest="YO YO Mgular"}])}(),function(){angular.module("MainApp").controller("customersCtrl",["$scope","$route","$modal","customersService",function(e,t,o,n){e.activePage=2,e.readCustomersData=[],e.createNewCustomers=function(){n.createNewCustomers(e.modalData).then(function(o){o&&(t.reload(),e.readCustomersData.push(o.data))})},e.modalData={},e.readCustomers=function(e,t){n.readCustomers(e).then(function(e){t(e.data)})},e.readAllCustomers=function(){n.readAllCustomers().then(function(t){null!=t&&(e.readCustomersData=t.data)})},e.updateCustomers=function(){var o=e.currentID,a=e.currentIndex;n.updateCustomers(e.modalData,o).then(function(o){o&&(t.reload(),e.readCustomersData[a]=e.modalData)})},e.deleteCustomers=function(o){var a=e.currentIndex;n.deleteCustomers(o).then(function(o){o&&(t.reload(),e.readCustomersData.splice(a,1))})},e.checkData=function(){switch(e.modalMode){case"create":e.createNewCustomers();break;case"edit":e.updateCustomers()}},e.showCustomers=function(t,n,a){e.modalMode=t,e.currentID=n,e.currentIndex=a;var r=o({scope:e,template:"/views/customers/modal/customersModal.html",show:!1});switch(t){case"create":e.modalData={},r.$promise.then(r.show);break;case"edit":e.readCustomers(n,function(t){console.log(t),"ERROR"!=t&&(r.$promise.then(r.show),e.modalData=t[0])})}}}])}(),function(){angular.module("MainApp").factory("customersService",["$http","$q",function(e,t){var o={};return o.readAllCustomers=function(){var o=t.defer();return e({method:"GET",url:"/customers",contentType:"application/json; charset=utf-8",dataType:"json"}).then(function(e){o.resolve(e),console.log("Can Read All Customers.")})["catch"](function(e){o.reject(e),console.log("Cannot Read Customers.")}),o.promise},o.readCustomers=function(o){console.log(o);var n=t.defer();return e({method:"GET",url:"/customers/edit/"+o,contentType:"application/json; charset=utf-8",dataType:"json"}).then(function(e){n.resolve(e),console.log("Can get data from DB.")})["catch"](function(e){n.reject(e),console.log("Cannot get data from DB.")}),n.promise},o.createNewCustomers=function(o){console.log(o.name);var n=t.defer();return e({method:"POST",url:"/customers/saveadd",contentType:"application/json; charset=utf-8",data:{name:o.name,address:o.address,email:o.email,phone:o.phone},dataType:"json"}).then(function(e){n.resolve(e),console.log("User Created.")})["catch"](function(e){n.reject(e),console.log("User Cannot Create.")}),n.promise},o.updateCustomers=function(o,n){var a=t.defer();return e({method:"POST",url:"/customers/save_edit/"+n,data:{name:o.name,address:o.address,email:o.email,phone:o.phone},contentType:"application/json; charset=utf-8",dataType:"json"}).then(function(e){a.resolve(e),console.log("User Updated.")})["catch"](function(e){a.reject(e),console.log(e),console.log("User Cannot Update.")}),a.promise},o.deleteCustomers=function(o){console.log(o);var n=t.defer();return e({method:"GET",url:"/customers/delete_customer/"+o,contentType:"application/json; charset=utf-8",dataType:"json"}).then(function(e){n.resolve(e),console.log("Deleted.")})["catch"](function(e){n.reject(e),console.log("Cannot Delete")}),n.promise},o}])}(),function(){angular.module("MainApp").controller("mainCtrl",["$scope",function(e){e.activePage=1}])}();
//# sourceMappingURL=alljavascript.min.js.map
